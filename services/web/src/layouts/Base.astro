---
import type { Locale } from '../i18n/config';
import { locales, localeNames } from '../i18n/config';
import { switchLocalePath } from '../i18n/utils';

interface Props {
  title?: string;
  /** Full-bleed mode (no topbar) â€” used by homepage */
  minimal?: boolean;
  /** Current locale for <html lang> */
  lang?: Locale;
}

const { title, minimal = false, lang = 'en' } = Astro.props;
const pageTitle = title ? `${title} - Hooper Development` : 'Hooper Development';
const currentPath = Astro.url.pathname;
---

<!DOCTYPE html>
<html lang={lang}>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{pageTitle}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    {/* Alternate language links for SEO */}
    {locales.map(l => (
        <link rel="alternate" hreflang={l} href={switchLocalePath(currentPath, l)} />
    ))}
    <slot name="head" />
</head>
<body>
    {!minimal && (
        <slot name="topbar" />
    )}

    <div class="main-content">
        <slot />
    </div>
</body>
</html>

<style is:global>
    @import '../styles/fresh-theme.css';
    @import '../styles/magic-bar.css';
    @import '../styles/big-board.css';
</style>
